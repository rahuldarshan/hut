<robot
  name="scorpion_2">
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="0.0278331393854261 0.0137863605734812 0.109914410148553"
        rpy="0 0 0" />
      <mass
        value="11.682371523014" />
      <inertia
        ixx="0.426328345311672"
        ixy="-0.0327350946021298"
        ixz="-0.0417505536650965"
        iyy="0.712774732106428"
        iyz="-0.0205283697130115"
        izz="0.930257549786127" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="r_f_d">
    <inertial>
      <origin
        xyz="-5.55111512312578E-17 -0.153185137732946 -1.38777878078145E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535325" />
      <inertia
        ixx="0.00210844915709914"
        ixy="-3.65558659861417E-19"
        ixz="9.22060005958708E-19"
        iyy="0.00251842148758314"
        iyz="8.43116593519986E-19"
        izz="0.00210844915709914" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_f_d"
    type="continuous">
    <origin
      xyz="0.2675 -0.134 -0.01"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_f_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="r_b_d">
    <inertial>
      <origin
        xyz="-5.55111512312578E-17 -0.153185137732946 -2.77555756156289E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535325" />
      <inertia
        ixx="0.00210844915709914"
        ixy="-2.21161554299214E-19"
        ixz="3.26220161869166E-19"
        iyy="0.00251842148758314"
        iyz="1.13508093658607E-18"
        izz="0.00210844915709915" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_b_d"
    type="continuous">
    <origin
      xyz="-0.2675 -0.134 -0.0100000000000001"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_b_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_f_d">
    <inertial>
      <origin
        xyz="2.77555756156289E-16 0.153185137732947 -1.38777878078145E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535325" />
      <inertia
        ixx="0.00210844915709914"
        ixy="1.22851800923576E-18"
        ixz="1.36696806492895E-18"
        iyy="0.00251842148758314"
        iyz="-4.09316414792287E-19"
        izz="0.00210844915709914" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_f_d"
    type="continuous">
    <origin
      xyz="0.2675 0.134 -0.00999999999999994"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_f_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_b_d">
    <inertial>
      <origin
        xyz="0 0.153185137732946 1.38777878078145E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535327" />
      <inertia
        ixx="0.00210844915709915"
        ixy="-8.20527215478887E-19"
        ixz="2.34538015401461E-19"
        iyy="0.00251842148758315"
        iyz="6.44346912370667E-19"
        izz="0.00210844915709915" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_b_d"
    type="continuous">
    <origin
      xyz="-0.2675 0.134 -0.0100000000000004"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_b_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_f_f">
    <inertial>
      <origin
        xyz="0.198599122041313 0.0589999999860946 0.00028020286083387"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.0109096547992514"
        ixy="6.13379525363846E-12"
        ixz="-0.000101176174013822"
        iyy="0.0714202276655594"
        iyz="-1.72599739591332E-12"
        izz="0.0657180246186772" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_f_f"
    type="continuous">
    <origin
      xyz="0.267500000000001 0.234999999999999 -0.00999999999999988"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_f_f" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_b_f">
    <inertial>
      <origin
        xyz="0.198600102175386 0.0589999999860983 0.000198675702895543"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.010909568774612"
        ixy="5.90484102206242E-12"
        ixz="-7.85930666941592E-05"
        iyy="0.0714209773304488"
        iyz="-1.74293856589482E-12"
        izz="0.0657188603082062" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_b_f"
    type="continuous">
    <origin
      xyz="-0.267499999999999 0.234999999999999 -0.00999999999999938"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_b_f" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="r_f_f">
    <inertial>
      <origin
        xyz="0.198593445237832 -0.040000000013902 0.000250030318182021"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.0109102942040705"
        ixy="7.61589591319277E-12"
        ixz="-9.21243932338846E-05"
        iyy="0.0714153671141439"
        iyz="-3.75017821159578E-13"
        izz="0.0657125246624428" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_f_f"
    type="continuous">
    <origin
      xyz="0.2675 -0.254 -0.0100000000000001"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_f_f" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="r_b_f">
    <inertial>
      <origin
        xyz="0.198600172683891 -0.0400000000139019 0.000100710575286808"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.010909504574335"
        ixy="5.90482691463045E-12"
        ixz="-5.1557154788892E-05"
        iyy="0.0714209744980031"
        iyz="-1.74585323663361E-12"
        izz="0.0657189216760374" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_b_f"
    type="continuous">
    <origin
      xyz="-0.267499999999999 -0.254 -0.0100000000000005"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_b_f" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="dof_1">
    <inertial>
      <origin
        xyz="0.0168063668416068 -0.000828744384351043 0.0160286518240589"
        rpy="0 0 0" />
      <mass
        value="0.184566420416876" />
      <inertia
        ixx="0.000483655431418515"
        ixy="-4.72403163140062E-06"
        ixz="-5.7881705034947E-05"
        iyy="0.000380292623182311"
        iyz="4.30375959745584E-07"
        izz="0.000642874909767403" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_dof_1"
    type="continuous">
    <origin
      xyz="0.2225 0.109 0.2905"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="dof_1" />
    <axis
      xyz="0 0 1" />
  </joint>
  <link
    name="dof_2">
    <inertial>
      <origin
        xyz="-0.151573202698097 0.00379471008327614 0.260931905247821"
        rpy="0 0 0" />
      <mass
        value="0.846538534885772" />
      <inertia
        ixx="0.0235039333729244"
        ixy="0.00020227684509158"
        ixz="0.0136640092867117"
        iyy="0.0315784718159804"
        iyz="-0.000342085229415755"
        izz="0.00824662490028363" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_dof_2"
    type="revolute">
    <origin
      xyz="0.039987 -0.0010011 0.07"
      rpy="0 0 0" />
    <parent
      link="dof_1" />
    <child
      link="dof_2" />
    <axis
      xyz="0.025028 0.99969 0" />
    <limit
      lower="-0.8"
      upper="0.8"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="dof_3">
    <inertial>
      <origin
        xyz="-0.114541369789598 -0.0174615919588113 -0.189413136114202"
        rpy="0 0 0" />
      <mass
        value="0.554051832607804" />
      <inertia
        ixx="0.00607691751539403"
        ixy="-0.000617883844673274"
        ixz="-0.00333260909167807"
        iyy="0.0078286115809289"
        iyz="-0.000882300897227994"
        izz="0.00270790305964303" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_3.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_3.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_dof_3"
    type="revolute">
    <origin
      xyz="-0.3351 0.0083894 0.52816"
      rpy="0 0 0" />
    <parent
      link="dof_2" />
    <child
      link="dof_3" />
    <axis
      xyz="0.025028 0.99969 0" />
    <limit
      lower="-0.8"
      upper="0.8"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="dof_4">
    <inertial>
      <origin
        xyz="-0.0120751234604933 -0.0118820778257034 -0.0203671348746618"
        rpy="0 0 0" />
      <mass
        value="0.212150435807567" />
      <inertia
        ixx="0.000256775361007874"
        ixy="-2.79033577619072E-05"
        ixz="-6.47086867792642E-05"
        iyy="0.000244402598555569"
        iyz="-4.60711824298861E-05"
        izz="0.000184888770791522" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_4.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_4.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_dof_4"
    type="revolute">
    <origin
      xyz="-0.18903 -0.055286 -0.36492"
      rpy="0 0 0" />
    <parent
      link="dof_3" />
    <child
      link="dof_4" />
    <axis
      xyz="0.49984 -0.012514 0.86603" />
    <limit
      lower="-1.57"
      upper="1.57"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="dof_5">
    <inertial>
      <origin
        xyz="-0.0465948798426503 -0.0280494367325007 -0.079444129945422"
        rpy="0 0 0" />
      <mass
        value="0.284365342871032" />
      <inertia
        ixx="0.000702909268216631"
        ixy="0.000108539271407379"
        ixz="-0.000144445961697329"
        iyy="0.000571049043193295"
        iyz="0.000197017914127851"
        izz="0.000525110296315462" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_5.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_5.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_dof_5"
    type="revolute">
    <origin
      xyz="-0.030778 0.00077054 -0.053325"
      rpy="0 0 0" />
    <parent
      link="dof_4" />
    <child
      link="dof_5" />
    <axis
      xyz="0.025028 0.99969 0" />
    <limit
      lower="-1.57"
      upper="1.57"
      effort="0"
      velocity="0" />
  </joint>
  <link
    name="dof_6">
    <inertial>
      <origin
        xyz="-0.00855944725718 0.000214289994776906 -0.0148300429079304"
        rpy="0 0 0" />
      <mass
        value="0.115664805617532" />
      <inertia
        ixx="0.000146605724382769"
        ixy="4.82662698798862E-06"
        ixz="6.86499978284879E-05"
        iyy="0.000339276245554696"
        iyz="-1.71868664341552E-06"
        izz="0.000225779915275739" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_6.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/dof_6.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_dof_6"
    type="revolute">
    <origin
      xyz="-0.084779 0.021128 -0.14771"
      rpy="0 0 0" />
    <parent
      link="dof_5" />
    <child
      link="dof_6" />
    <axis
      xyz="0.49984 -0.012514 0.86603" />
    <limit
      lower="-1.57"
      upper="1.57"
      effort="0"
      velocity="0" />
  </joint>

<joint name="hokuyo_joint" type="fixed">
    <axis xyz="1 0 0" />
    <origin xyz="-0.25 -0.08 0.257" rpy="0 0 -3.155"/>
    <parent link="base_link"/>
    <child link="hokuyo_link"/>
  </joint>

  <!-- Hokuyo Laser -->
  <link name="hokuyo_link">
    <collision>
      <origin xyz="0 0 0.55" rpy="0 0 0"/>
      <geometry>
    <box size="0.1 0.1 0.1"/>
      </geometry>
    </collision>

    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://scorpion_2/meshes/hokuyo.dae"/>
      </geometry>
    </visual>

    <inertial>
      <mass value="1e-5" />
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
    </inertial>
  </link>

  <!-- hokuyo -->
  <gazebo reference="hokuyo_link">
    <sensor type="ray" name="head_hokuyo_sensor">
      <pose>0 0 0 0 0 0</pose>
      <visualize>true</visualize>
      <update_rate>40</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-1.570796</min_angle>
            <max_angle>1.570796</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.10</min>
          <max>30.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <!-- Noise parameters based on published spec for Hokuyo laser
               achieving "+-30mm" accuracy at range < 10m.  A mean of 0.0m and
               stddev of 0.01m will put 99.7% of samples within 0.03m of the true
               reading. -->
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin name="gazebo_ros_head_hokuyo_controller" filename="libgazebo_ros_laser.so">
        <frameName>hokuyo_link</frameName>
	<topicName>scan</topicName>
      </plugin>
    </sensor>
  </gazebo>

<gazebo>
  <plugin name="skid_steer_drive_controller" filename="libgazebo_ros_skid_steer_drive.so">
    <updateRate>100.0</updateRate>
    <robotNamespace>/</robotNamespace>
    <leftFrontJoint>j_l_f_d</leftFrontJoint>
    <rightFrontJoint>j_r_f_d</rightFrontJoint>
    <leftRearJoint>j_l_b_d</leftRearJoint>
    <rightRearJoint>j_r_b_d</rightRearJoint>
    <wheelSeparation>0.41</wheelSeparation>
    <wheelDiameter>0.179</wheelDiameter>
    <odometryTopic>odom</odometryTopic>
    <odometryFrame>odom</odometryFrame>
    <robotBaseFrame>base_link</robotBaseFrame>
    <torque>20</torque>
    <topicName>cmd_vel</topicName>
    <broadcastTF>false</broadcastTF>
  </plugin>
</gazebo>

</robot>
