<?xml version="1.0" encoding="utf-8"?>
<robot
  name="scorpion_2">
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="0.0278331393854261 0.0137863605734812 0.109914410148553"
        rpy="0 0 0" />
      <mass
        value="6" />    
      <inertia
        ixx="0.426328345311672"
        ixy="-0.0327350946021298"
        ixz="-0.0417505536650965"
        iyy="0.712774732106428"
        iyz="-0.0205283697130115"
        izz="0.930257549786127" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="r_f_d">
    <inertial>
      <origin
        xyz="-5.55111512312578E-17 -0.153185137732946 -1.38777878078145E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535325" />
      <inertia
        ixx="0.00210844915709914"
        ixy="-3.65558659861417E-19"
        ixz="9.22060005958708E-19"
        iyy="0.00251842148758314"
        iyz="8.43116593519986E-19"
        izz="0.00210844915709914" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_f_d"
    type="continuous">
    <origin
      xyz="0.2675 -0.134 -0.01"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_f_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="r_b_d">
    <inertial>
      <origin
        xyz="-5.55111512312578E-17 -0.153185137732946 -2.77555756156289E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535325" />
      <inertia
        ixx="0.00210844915709914"
        ixy="-2.21161554299214E-19"
        ixz="3.26220161869166E-19"
        iyy="0.00251842148758314"
        iyz="1.13508093658607E-18"
        izz="0.00210844915709915" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_b_d"
    type="continuous">
    <origin
      xyz="-0.2675 -0.134 -0.0100000000000001"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_b_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_f_d">
    <inertial>
      <origin
        xyz="2.77555756156289E-16 0.153185137732947 -1.38777878078145E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535325" />
      <inertia
        ixx="0.00210844915709914"
        ixy="1.22851800923576E-18"
        ixz="1.36696806492895E-18"
        iyy="0.00251842148758314"
        iyz="-4.09316414792287E-19"
        izz="0.00210844915709914" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_f_d"
    type="continuous">
    <origin
      xyz="0.2675 0.134 -0.00999999999999994"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_f_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_b_d">
    <inertial>
      <origin
        xyz="0 0.153185137732946 1.38777878078145E-17"
        rpy="0 0 0" />
      <mass
        value="0.801747641535327" />
      <inertia
        ixx="0.00210844915709915"
        ixy="-8.20527215478887E-19"
        ixz="2.34538015401461E-19"
        iyy="0.00251842148758315"
        iyz="6.44346912370667E-19"
        izz="0.00210844915709915" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_d.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_d.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_b_d"
    type="continuous">
    <origin
      xyz="-0.2675 0.134 -0.0100000000000004"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_b_d" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_f_f">
    <inertial>
      <origin
        xyz="0.198599122041313 0.0589999999860946 0.00028020286083387"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.0109096547992514"
        ixy="6.13379525363846E-12"
        ixz="-0.000101176174013822"
        iyy="0.0714202276655594"
        iyz="-1.72599739591332E-12"
        izz="0.0657180246186772" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_f_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_f_f"
    type="continuous">
    <origin
      xyz="0.267500000000001 0.234999999999999 -0.00999999999999988"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_f_f" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="l_b_f">
    <inertial>
      <origin
        xyz="0.198600102175386 0.0589999999860983 0.000198675702895543"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.010909568774612"
        ixy="5.90484102206242E-12"
        ixz="-7.85930666941592E-05"
        iyy="0.0714209773304488"
        iyz="-1.74293856589482E-12"
        izz="0.0657188603082062" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/l_b_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_l_b_f"
    type="continuous">
    <origin
      xyz="-0.267499999999999 0.234999999999999 -0.00999999999999938"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="l_b_f" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="r_f_f">
    <inertial>
      <origin
        xyz="0.198593445237832 -0.040000000013902 0.000250030318182021"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.0109102942040705"
        ixy="7.61589591319277E-12"
        ixz="-9.21243932338846E-05"
        iyy="0.0714153671141439"
        iyz="-3.75017821159578E-13"
        izz="0.0657125246624428" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_f_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_f_f"
    type="continuous">
    <origin
      xyz="0.2675 -0.254 -0.0100000000000001"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_f_f" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="r_b_f">
    <inertial>
      <origin
        xyz="0.198600172683891 -0.0400000000139019 0.000100710575286808"
        rpy="0 0 0" />
      <mass
        value="2.40960845389308" />
      <inertia
        ixx="0.010909504574335"
        ixy="5.90482691463045E-12"
        ixz="-5.1557154788892E-05"
        iyy="0.0714209744980031"
        iyz="-1.74585323663361E-12"
        izz="0.0657189216760374" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_f.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://scorpion_2/meshes/r_b_f.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="j_r_b_f"
    type="continuous">
    <origin
      xyz="-0.267499999999999 -0.254 -0.0100000000000005"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="r_b_f" />
    <axis
      xyz="0 1 0" />
  </joint>

<joint name="hokuyo_joint" type="fixed">
    <axis xyz="1 0 0" />
    <origin xyz="0.32 -0.08 0.257" rpy="0 0 7.5"/>
    <parent link="base_link"/>
    <child link="hokuyo_link"/>
  </joint>

  <!-- Hokuyo Laser -->
  <link name="hokuyo_link">
    <collision>
      <origin xyz="0 0 0.55" rpy="0 0 0"/>
      <geometry>
    <box size="0.1 0.1 0.1"/>
      </geometry>
    </collision>

    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://scorpion_2/meshes/hokuyo.dae"/>
      </geometry>
    </visual>

    <inertial>
      <mass value="1e-5" />
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
    </inertial>
  </link>

  <!-- hokuyo -->
  <gazebo reference="hokuyo_link">
    <sensor type="ray" name="head_hokuyo_sensor">
      <pose>0 0 0 0 0 0</pose>
      <visualize>true</visualize>
      <update_rate>40</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-2.5</min_angle>
            <max_angle>0.35</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.10</min>
          <max>30.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <!-- Noise parameters based on published spec for Hokuyo laser
               achieving "+-30mm" accuracy at range < 10m.  A mean of 0.0m and
               stddev of 0.01m will put 99.7% of samples within 0.03m of the true
               reading. -->
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin name="gazebo_ros_head_hokuyo_controller" filename="libgazebo_ros_laser.so">
        <topicName>/scan</topicName>
        <frameName>hokuyo_link</frameName>
      </plugin>
    </sensor>
  </gazebo>

<gazebo>
  <plugin name="skid_steer_drive_controller" filename="libgazebo_ros_skid_steer_drive.so">
    <updateRate>100.0</updateRate>
    <robotNamespace>/</robotNamespace>
    <leftFrontJoint>j_l_f_d</leftFrontJoint>
    <rightFrontJoint>j_r_f_d</rightFrontJoint>
    <leftRearJoint>j_l_b_d</leftRearJoint>
    <rightRearJoint>j_r_b_d</rightRearJoint>
    <wheelSeparation>0.41</wheelSeparation>
    <wheelDiameter>0.179</wheelDiameter>
    <robotBaseFrame>base_link</robotBaseFrame>
    <odometryTopic>odom</odometryTopic>
    <odometryFrame>odom</odometryFrame>
    <torque>20</torque>
    <topicName>cmd_vel</topicName>
    <broadcastTF>true</broadcastTF>
    <publishTF>true</publishTF>
  </plugin>
</gazebo>

</robot>
